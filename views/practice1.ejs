<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/css/style.css">

    <title>Yoga</title>

    <script src="https://unpkg.com/ml5@0.6.0/dist/ml5.min.js" type="text/javascript"></script>
    <script src="/libraries/p5.js"></script>
    <script src="/libraries/p5.dom.js"></script>
    <script src="/libraries/p5.sound.js"></script>
</head>

<body>
    <div class="yoga-header">
        <h1>Yoga Session</h1>
        <!-- <h2 class="currentPose"></h2> -->
        <h2>Press start to begin yoga session</h2>
    </div>

    <div class="grid-container">
        <div class="sketch-holder" id="sketch-holder">
            <!-- scripts -->
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
            <script src="/model/yoga.js"></script>
        </div>
        <div class="trainer" id='trainer'>
            <div>
                <h1 id="time-remaining" onchange="checkStatus()">Starting in: 5s</h1>
            </div>
            <div>
                <h2>Reference Yoga Trainer:</h2>
            </div>
            <div class="trainer-model">
                <img class="trainer-img" src="">
            </div>
        </div>
        <div class="feedback" id='feedback'>
            <h2 class="feedback-header">Feedback for user:</h2>
            <h3 class="score">User Pose Accuracy:</h3>
            <p class="accuracy">0 %</p>
            <h3 class="score">Average Accuracy:</h3>
            <p class="avg-accuracy">0 %</p>
            <p class="feedback-description">Individual Calculated Angles</p>
            <table>
                <tr>
                    <th>Targetted Joints</th>
                    <th>Angle (left joints)</th>
                    <th>Angle (right joints)</th>
                    <th>Target (left joints)</th>
                    <th>Target (right joints)</th>
                </tr>
                <tr>
                    <td>Knee, Ankle, Hip</td>
                    <td id="left-0">∠ 0</td>
                    <td id="right-1">∠ 0</td>
                </tr>
                <tr>
                    <td>Hip, Knee, Shoulder</td>
                    <td id="left-2">∠ 0</td>
                    <td id="right-3">∠ 0</td>
                </tr>
                <tr>
                    <td>Shoulder, Hip, Elbow</td>
                    <td id="left-4">∠ 0</td>
                    <td id="right-5">∠ 0</td>
                </tr>
                <tr>
                    <td>Elbow, Shoulder, Wrist</td>
                    <td id="left-6">∠ 0</td>
                    <td id="right-7">∠ 0</td>
                </tr>
                <tr>
                    <td>Shoulder, Ankle, Wrist</td>
                    <td id="left-8">∠ 0</td>
                    <td id="right-9">∠ 0</td>
                </tr>
                <tr>
                    <td>Shoulder, Knee, Wrist</td>
                    <td id="left-10">∠ 0</td>
                    <td id="right-11">∠ 0</td>
                </tr>
                <tr>
                    <td>Shoulder, Hip, Wrist</td>
                    <td id="left-12">∠ 0</td>
                    <td id="right-13">∠ 0</td>
                </tr>
            </table>
        </div>
    </div>

    <div class="homepage-btn">
        <a href="#" class="button" id="start-btn">Start</a>
        <!-- <a href="index.html" class="button">Homepage</a> -->
        <a href="#" class="save button" id="Save"">Save</a>
        <form action="/practice2" method="POST" style="display:inline;">
            <input type="hidden" class="accuracy_mountain" name="accuracy_mountain">
            <input class="button tree-img" id="Tree" type="submit" value="Next">
        </form>
        <a href="/pickpose" class="button">Back</a>

    </div>
    <script src="../model/yoga.js" charset="utf-8"></script>
    <script>
        $(".save").on('click', function () {
            var percent = $(".avg-accuracy").text().split(" ");
            $(".accuracy_mountain").attr("value", percent[0]);
            console.log($(".accuracy_mountain").attr("value"));
        });
        $(".tree-img").on('click', function () {
            yogaPose = $("#Tree").attr("id");
            localStorage.setItem('SelectedPose', yogaPose);
        });
    </script>
</body>

</html>